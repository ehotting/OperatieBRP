<!-- Versturen vrij bericht naar BRP partij zodat controle in de beheer app gedaan kan worden -->
<tr>
	<td>waitForText</td>
	<td>//div[3]/div/label</td>
	<td>Partijen</td>
</tr>
<!-- Vullen alle verplichte velden en versturen -->
<tr>
	<td>click</td>
	<td>//div[@id='soortVrijBericht_match']/span</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>css=div.ng-binding.ng-scope</td>
	<td></td>
</tr>
<tr>
	<td>type</td>
	<td>id=inhoud</td>
	<td>Een bericht voor de beheerder van de beheerder</td>
</tr>
<!-- selecteer partij verstuur en check op melding Vrij bericht verstuurd. -->
<tr>
	<td>click</td>
	<td>xpath=(//*[@id="partijen"]/div/input)</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>xpath=(//span[text()='199903'])</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>css=a.ui-select-choices-row-inner</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>link=Verstuur</td>
	<td></td>
</tr>
<tr>
	<td>waitForText</td>
	<td>css=span.ng-binding.ng-scope</td>
	<td>Vrij bericht verstuurd.</td>
</tr>
<tr>
	<td>assertText</td>
	<td>css=span.ng-binding.ng-scope</td>
	<td>Vrij bericht verstuurd.</td>
</tr>
<tr>
	<td>click</td>
	<td>css=button.close</td>
	<td></td>
</tr>


<!-- check of de waarde van Inhoud nog gevuld is met de laatste waarde -->
<tr>
	<td>assertValue</td>
	<td>id=inhoud</td>
	<td>Een bericht voor de beheerder van de beheerder</td>
</tr>
<!-- ga naar zoeken en zoek het inkomende bericht -->
<tr>
	<td>open</td>
	<td>/brp-beheer/#/vrijbericht/list</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>//div[@id='zoek_soortBericht']/div/span</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>css=div.ng-binding.ng-scope</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>css=button.btn.btn-primary</td>
	<td></td>
</tr>
<tr>
	<td>waitForText</td>
	<td>css=div.col-xs-12 &gt; label.ng-binding</td>
	<td>Aantal resultaten: 1</td>
</tr>
<tr>
	<td>assertText</td>
	<td>css=div.col-xs-12 &gt; label.ng-binding</td>
	<td>Aantal resultaten: 1</td>
</tr>
<!-- contoleer detail scherm van ingekomen bericht -->
<tr>
	<td>click</td>
	<td>//brp-lijstveld[@id='Datumtijd registratie_0']/span</td>
	<td></td>
</tr>
<tr>
	<td>assertValue</td>
	<td>id=data</td>
	<td>Een bericht voor de beheerder van de beheerder<br /></td>
</tr>
<tr>
	<td>assertText</td>
	<td>//div[@id='soortBericht_match']/span/span[2]/span</td>
	<td>Ingekomen</td>
</tr>
<tr>
	<td>assertValue</td>
	<td>id=ongelezen</td>
	<td>on</td>
</tr>
<tr>
	<td>assertText</td>
	<td>//div[@id='soortVrijBericht_match']/span/span[2]/span</td>
	<td>Beheermelding</td>
</tr>
<tr>
	<td>assertText</td>
	<td>//brp-lijstveld[@id='Partijen_Partij code_0']/span</td>
	<td>199903</td>
</tr>
<tr>
	<td>assertText</td>
	<td>//brp-lijstveld[@id='Partijen_Partij naam_0']/span</td>
	<td>BRP Voorziening</td>
</tr>
<tr>
	<td>click</td>
	<td>link=Sluiten</td>
	<td></td>
</tr>
<tr>
	<td>waitForText</td>
	<td>css=h4.panel-title.ng-binding</td>
	<td>Vrije Berichten</td>
</tr>

<!-- controleer of verzonden bericht correct wordt getoond -->
<tr>
	<td>click</td>
	<td>//div[@id='zoek_soortBericht']/div/span</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>//div[4]/a/div</td>
        <td></td>
</tr>
<tr>
	<td>click</td>
	<td>css=button.btn.btn-primary</td>
	<td></td>
</tr>

<tr>
	<td>click</td>
	<td>//brp-lijstveld[@id='Datumtijd registratie_0']/span</td>
	<td></td>
</tr>
<tr>
	<td>waitForText</td>
	<td>//div[2]/div/div/div/label</td>
	<td>Inhoud</td>
</tr>
<tr>
	<td>waitForText</td>
	<td>id=data</td>
	<td>Een bericht voor de beheerder van de beheerder</td>
</tr>
<tr>
	<td>assertText</td>
	<td>//div[@id='soortBericht_match']/span/span[2]/span</td>
	<td>Verzonden</td>
</tr>
<tr>
	<td>assertValue</td>
	<td>id=ongelezen</td>
	<td>off</td>
</tr>
<tr>
	<td>assertText</td>
	<td>//div[@id='soortVrijBericht_match']/span/span[2]/span</td>
	<td>Beheermelding</td>
</tr>
<tr>
	<td>assertText</td>
	<td>//brp-lijstveld[@id='Partijen_Partij code_0']/span</td>
	<td>199903</td>
</tr>
<tr>
	<td>assertText</td>
	<td>//brp-lijstveld[@id='Partijen_Partij naam_0']/span</td>
	<td>BRP Voorziening</td>
</tr>

